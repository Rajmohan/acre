/**
 *   Copyright 2004-2005 Sun Microsystems, Inc.
 *
 *   Licensed under the Apache License, Version 2.0 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 */

package org.acre.visualizer.ui.pdmcomposer;

import javax.swing.JFrame;

/**
 *
 * @author  deepakalur
 */
public class PDMEditorToolBar extends javax.swing.JPanel {

    /** Creates new form PDMEditorToolBar */
    public PDMEditorToolBar() {
        initComponents();
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        pdmButtonsToggler = new javax.swing.JToggleButton();
        pdmButtonPanel = new javax.swing.JPanel();
        editPDMButton = new javax.swing.JButton();
        executePDMButton = new javax.swing.JButton();
        newPDMButton = new javax.swing.JButton();
        deletePDMButton = new javax.swing.JButton();
        reload = new javax.swing.JButton();
        jSeparator1 = new javax.swing.JSeparator();
        roleButtonsToggler = new javax.swing.JToggleButton();
        roleButtonPanel = new javax.swing.JPanel();
        editRoleButton = new javax.swing.JButton();
        newRoleButton = new javax.swing.JButton();
        deleteRoleButton = new javax.swing.JButton();
        jSeparator2 = new javax.swing.JSeparator();
        relButtonsToggler = new javax.swing.JToggleButton();
        relButtonPanel = new javax.swing.JPanel();
        editRelationshipButton = new javax.swing.JButton();
        newRelationshipButton = new javax.swing.JButton();
        deleteRelationshipButton = new javax.swing.JButton();

        setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT));

        setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
        pdmButtonsToggler.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/tabs/PDM.gif")));
        pdmButtonsToggler.setText("Patterns");
        pdmButtonsToggler.setToolTipText("Hide PDM Buttons");
        pdmButtonsToggler.setBorderPainted(false);
        pdmButtonsToggler.setMargin(new java.awt.Insets(0, 0, 0, 0));
        pdmButtonsToggler.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                pdmButtonsTogglerActionPerformed(evt);
            }
        });

        add(pdmButtonsToggler);

        pdmButtonPanel.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 1, 1));

        editPDMButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/EditButton.gif")));
        editPDMButton.setMnemonic('E');
        editPDMButton.setToolTipText("Edit selected PDM");
        editPDMButton.setBorderPainted(false);
        editPDMButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        editPDMButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                editPDMButtonActionPerformed(evt);
            }
        });

        pdmButtonPanel.add(editPDMButton);

        executePDMButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/ExecuteButton.gif")));
        executePDMButton.setMnemonic('X');
        executePDMButton.setToolTipText("Execute selected PDM");
        executePDMButton.setBorderPainted(false);
        executePDMButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        executePDMButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                executePDMButtonActionPerformed(evt);
            }
        });

        pdmButtonPanel.add(executePDMButton);

        newPDMButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/NewButton.gif")));
        newPDMButton.setMnemonic('N');
        newPDMButton.setToolTipText("Create a new PDM");
        newPDMButton.setBorderPainted(false);
        newPDMButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        newPDMButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                newPDMButtonActionPerformed(evt);
            }
        });

        pdmButtonPanel.add(newPDMButton);

        deletePDMButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/DeleteButton.gif")));
        deletePDMButton.setMnemonic('D');
        deletePDMButton.setToolTipText("Delete selected PDM");
        deletePDMButton.setBorderPainted(false);
        deletePDMButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        deletePDMButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                deletePDMButtonActionPerformed(evt);
            }
        });

        pdmButtonPanel.add(deletePDMButton);

        reload.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/RefreshButton.gif")));
        reload.setMnemonic('R');
        reload.setToolTipText("Reload selected PDM");
        reload.setBorderPainted(false);
        reload.setMargin(new java.awt.Insets(0, 0, 0, 0));
        reload.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                reloadActionPerformed(evt);
            }
        });

        pdmButtonPanel.add(reload);

        add(pdmButtonPanel);

        jSeparator1.setOrientation(javax.swing.SwingConstants.VERTICAL);
        jSeparator1.setPreferredSize(new java.awt.Dimension(5, 25));
        add(jSeparator1);

        roleButtonsToggler.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/tabs/Role.gif")));
        roleButtonsToggler.setText("Roles");
        roleButtonsToggler.setToolTipText("Hide PDM Role Buttons");
        roleButtonsToggler.setBorderPainted(false);
        roleButtonsToggler.setMargin(new java.awt.Insets(0, 0, 0, 0));
        roleButtonsToggler.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                roleButtonsTogglerActionPerformed(evt);
            }
        });

        add(roleButtonsToggler);

        roleButtonPanel.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 1, 1));

        editRoleButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/EditButton.gif")));
        editRoleButton.setMnemonic('1');
        editRoleButton.setToolTipText("Edit selected Role in this PDM");
        editRoleButton.setBorderPainted(false);
        editRoleButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        editRoleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                editRoleButtonActionPerformed(evt);
            }
        });

        roleButtonPanel.add(editRoleButton);

        newRoleButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/NewButton.gif")));
        newRoleButton.setToolTipText("Create a new Role in this PDM");
        newRoleButton.setBorderPainted(false);
        newRoleButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        newRoleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                newRoleButtonActionPerformed(evt);
            }
        });

        roleButtonPanel.add(newRoleButton);

        deleteRoleButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/DeleteButton.gif")));
        deleteRoleButton.setToolTipText("Delete selected Role in this PDM");
        deleteRoleButton.setBorderPainted(false);
        deleteRoleButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        deleteRoleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                deleteRoleButtonActionPerformed(evt);
            }
        });

        roleButtonPanel.add(deleteRoleButton);

        add(roleButtonPanel);

        jSeparator2.setOrientation(javax.swing.SwingConstants.VERTICAL);
        jSeparator2.setPreferredSize(new java.awt.Dimension(5, 25));
        add(jSeparator2);

        relButtonsToggler.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/tabs/Relationship.gif")));
        relButtonsToggler.setText("Relationships");
        relButtonsToggler.setToolTipText("Hide PDM Relationship Buttons");
        relButtonsToggler.setBorderPainted(false);
        relButtonsToggler.setMargin(new java.awt.Insets(0, 0, 0, 0));
        relButtonsToggler.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                relButtonsTogglerActionPerformed(evt);
            }
        });

        add(relButtonsToggler);

        relButtonPanel.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 1, 1));

        editRelationshipButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/EditButton.gif")));
        editRelationshipButton.setMnemonic('2');
        editRelationshipButton.setToolTipText("Edit selected Relationship in this PDM");
        editRelationshipButton.setBorderPainted(false);
        editRelationshipButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        editRelationshipButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                editRelationshipButtonActionPerformed(evt);
            }
        });

        relButtonPanel.add(editRelationshipButton);

        newRelationshipButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/NewButton.gif")));
        newRelationshipButton.setToolTipText("Create a new Relationship in this PDM");
        newRelationshipButton.setBorderPainted(false);
        newRelationshipButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        newRelationshipButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                newRelationshipButtonActionPerformed(evt);
            }
        });

        relButtonPanel.add(newRelationshipButton);

        deleteRelationshipButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/org/acre/visualizer/ui/icons/buttons/DeleteButton.gif")));
        deleteRelationshipButton.setToolTipText("Delete selected Relationship in this PDM");
        deleteRelationshipButton.setBorderPainted(false);
        deleteRelationshipButton.setMargin(new java.awt.Insets(0, 0, 0, 0));
        deleteRelationshipButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                deleteRelationshipButtonActionPerformed(evt);
            }
        });

        relButtonPanel.add(deleteRelationshipButton);

        add(relButtonPanel);

    }//GEN-END:initComponents

    private void deleteRelationshipButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_deleteRelationshipButtonActionPerformed
        deleteRelationship();
    }//GEN-LAST:event_deleteRelationshipButtonActionPerformed

    private void newRelationshipButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_newRelationshipButtonActionPerformed
        addNewRelationship();
    }//GEN-LAST:event_newRelationshipButtonActionPerformed

    private void editRelationshipButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_editRelationshipButtonActionPerformed
        editRelationship();
    }//GEN-LAST:event_editRelationshipButtonActionPerformed

    private void relButtonsTogglerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_relButtonsTogglerActionPerformed
        toggleRelButtons();
    }//GEN-LAST:event_relButtonsTogglerActionPerformed

    private void deleteRoleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_deleteRoleButtonActionPerformed
        deleteRole();
    }//GEN-LAST:event_deleteRoleButtonActionPerformed

    private void newRoleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_newRoleButtonActionPerformed
        addNewRole();
    }//GEN-LAST:event_newRoleButtonActionPerformed

    private void editRoleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_editRoleButtonActionPerformed
        editRole();
    }//GEN-LAST:event_editRoleButtonActionPerformed

    private void roleButtonsTogglerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_roleButtonsTogglerActionPerformed
        toggleRoleButtons();
    }//GEN-LAST:event_roleButtonsTogglerActionPerformed

    private void pdmButtonsTogglerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_pdmButtonsTogglerActionPerformed
        togglePDMButton();
    }//GEN-LAST:event_pdmButtonsTogglerActionPerformed

    private void reloadActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_reloadActionPerformed
        reloadPDM();
    }//GEN-LAST:event_reloadActionPerformed

    private void executePDMButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_executePDMButtonActionPerformed
        executePDM();
    }//GEN-LAST:event_executePDMButtonActionPerformed

    private void deletePDMButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_deletePDMButtonActionPerformed
        deletePDM();
    }//GEN-LAST:event_deletePDMButtonActionPerformed

    private void editPDMButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_editPDMButtonActionPerformed
        editPDM();
    }//GEN-LAST:event_editPDMButtonActionPerformed

    private void newPDMButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_newPDMButtonActionPerformed
        newPDM();
    }//GEN-LAST:event_newPDMButtonActionPerformed
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton deletePDMButton;
    private javax.swing.JButton deleteRelationshipButton;
    private javax.swing.JButton deleteRoleButton;
    private javax.swing.JButton editPDMButton;
    private javax.swing.JButton editRelationshipButton;
    private javax.swing.JButton editRoleButton;
    private javax.swing.JButton executePDMButton;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JButton newPDMButton;
    private javax.swing.JButton newRelationshipButton;
    private javax.swing.JButton newRoleButton;
    private javax.swing.JPanel pdmButtonPanel;
    private javax.swing.JToggleButton pdmButtonsToggler;
    private javax.swing.JPanel relButtonPanel;
    private javax.swing.JToggleButton relButtonsToggler;
    private javax.swing.JButton reload;
    private javax.swing.JPanel roleButtonPanel;
    private javax.swing.JToggleButton roleButtonsToggler;
    // End of variables declaration//GEN-END:variables


    private AcrePDMExplorerPanel pdmPanel;

    private void newPDM() {
        pdmPanel.addNewPDM();

    }

    private void editPDM() {
        pdmPanel.editSelectedPDM();
    }

    private void deletePDM() {
        pdmPanel.deleteSelectedPDM();
    }

    private void reloadPDM() {
        pdmPanel.checkRefreshSelectedPDM();
    }

    private void executePDM() {
        pdmPanel.executeSelectedPDM();        
    }

    public void setPDMPanel(AcrePDMExplorerPanel pdmPanel)  {
        this.pdmPanel = pdmPanel;
    }

    public AcrePDMExplorerPanel getPDMPanel() {
        return pdmPanel;
    }
    
    private void togglePDMButton() {
        if (pdmButtonsToggler.isSelected()) {
            pdmButtonPanel.setVisible(false);
            pdmButtonsToggler.setToolTipText("Show PDM Buttons");
        }
        else {
            pdmButtonPanel.setVisible(true);
            pdmButtonsToggler.setToolTipText("Hide PDM Buttons");
        }
    }

    private void addNewRole() {
        pdmPanel.addPDMNewRole();
    }

    private void editRole() {
        pdmPanel.editSelectedRole();
    }

    private void deleteRole() {
        pdmPanel.deleteSelectedRole();
    }

    private void addNewRelationship() {
        pdmPanel.addPDMNewRelationship();
    }

    private void editRelationship() {
        pdmPanel.editSelectedRelationship();
    }

    private void deleteRelationship() {
        pdmPanel.deleteSelectedRelationship();
    }

    private void toggleRoleButtons() {
        if (roleButtonsToggler.isSelected()) {
            roleButtonPanel.setVisible(false);
            roleButtonsToggler.setToolTipText("Show PDM Role Buttons");
        }
        else {
            roleButtonPanel.setVisible(true);
            roleButtonsToggler.setToolTipText("Hide PDM Role Buttons");
        }
    }
    private void toggleRelButtons() {
        if (relButtonsToggler.isSelected()) {
            relButtonPanel.setVisible(false);
            relButtonsToggler.setToolTipText("Show PDM Relationship Buttons");
        }
        else {
            relButtonPanel.setVisible(true);
            relButtonsToggler.setToolTipText("Hide PDM Relationship Buttons");
        }
    }

    public static void main(String args[]) {
        JFrame f = new JFrame("PDM Tool Bar");
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        PDMEditorToolBar b = new PDMEditorToolBar();
        f.getContentPane().add(b);
        f.pack();
        f.setVisible(true);
    }


    public void setButtonsEnabled(boolean enabled) {
        enablePDMButtons(enabled);
        enableRoleButtons(enabled);
        enableRelationshipButtons(enabled);
        newPDMButton.setEnabled(true);
    }

    public void selectPDM() {
        enablePDMButtons(true);
        enableRoleButtons(false);
        newRoleButton.setEnabled(true);
        enableRelationshipButtons(false);
        newRelationshipButton.setEnabled(true);
    }

    public void selectRole() {
        enablePDMButtons(false);
        enableRoleButtons(true);
        enableRelationshipButtons(false);
        newRelationshipButton.setEnabled(true);
        newPDMButton.setEnabled(true);
    }

    public void selectRoleToRoleEdge() {
        enablePDMButtons(false);
        enableRoleButtons(false);
        newRoleButton.setEnabled(true);
        enableRelationshipButtons(true);
        newPDMButton.setEnabled(true);
    }

    private void enableRoleButtons(boolean enabled) {
        editRoleButton.setEnabled(enabled);
        deleteRoleButton.setEnabled(enabled);
        newRoleButton.setEnabled(enabled);
    }

    private void enableRelationshipButtons(boolean enabled) {
        editRelationshipButton.setEnabled(enabled);
        deleteRelationshipButton.setEnabled(enabled);
        newRelationshipButton.setEnabled(enabled);
    }

    private void enablePDMButtons(boolean enabled) {
        editPDMButton.setEnabled(enabled);
        deletePDMButton.setEnabled(enabled);
        executePDMButton.setEnabled(enabled);
        reload.setEnabled(enabled);
        newPDMButton.setEnabled(enabled);
    }

    public void reset() {
        setButtonsEnabled(false);
        newPDMButton.setEnabled(true);
    }
}
